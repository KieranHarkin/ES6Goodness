<html>

<body>
    
    <script>
    
    // /search/kieran -> /user/123 -> /photo/456
    // Here we need to make waterfall ajax requests

    function* steps() {
        const beers = yield ajax('http://api.react.beer/v2/search?q=hops&type=beer');

        const kieran = yield ajax('https://api.github.com/users/kieranharkin');

        const fatJoe = yield ajax('https://api.discogs.com/artists/51988');
    }

    function ajax(url) {
        fetch(url).then(data => data.json()).then(data => dataGen.next(data));
    }

    const dataGen = steps();
    dataGen.next(); //kick if off


    
    </script>
</body>
</html>